function dropdown(){const i=window.matchMedia("(max-width: 767px)"),o=document.querySelector(".gh-head"),r=o.querySelector(".gh-head-menu"),s=r?.querySelector(".nav");if(s){var e=document.querySelector(".gh-head-logo");const t=s.innerHTML,n=(i.matches&&s.querySelectorAll("li").forEach(function(e,t){e.style.transitionDelay=.03*(t+1)+"s"}),function(){if(!i.matches){for(var e=[];s.offsetWidth+64>r.offsetWidth;){if(!s.lastElementChild)return;e.unshift(s.lastElementChild),s.lastElementChild.remove()}if(e.length){const t=document.createElement("button"),n=(t.setAttribute("class","nav-more-toggle gh-icon-btn"),t.setAttribute("aria-label","More"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor"><path d="M21.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0zM13.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0zM5.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0z"></path></svg>',document.createElement("div"));n.setAttribute("class","gh-dropdown"),10<=e.length?(o.classList.add("is-dropdown-mega"),n.style.gridTemplateRows=`repeat(${Math.ceil(e.length/2)}, 1fr)`):o.classList.remove("is-dropdown-mega"),e.forEach(function(e){n.appendChild(e)}),t.appendChild(n),s.appendChild(t),o.classList.add("is-dropdown-loaded"),t.addEventListener("click",function(){o.classList.toggle("is-dropdown-open")}),window.addEventListener("click",function(e){!t.contains(e.target)&&o.classList.contains("is-dropdown-open")&&o.classList.remove("is-dropdown-open")})}else o.classList.add("is-dropdown-loaded")}});imagesLoaded(e,function(){n()}),window.addEventListener("resize",function(){setTimeout(()=>{s.innerHTML=t,n()},1)})}}function pagination(e,d,a=!1){const c=document.querySelector(".gh-feed");if(!c)return;let t=!1;async function n(){var t=document.querySelector("link[rel=next]");if(t)try{var e=await(await fetch(t.href)).text(),n=(new DOMParser).parseFromString(e,"text/html"),i=n.querySelectorAll(".gh-feed:not(.gh-featured):not(.gh-related) > *");const r=document.createDocumentFragment(),s=[];i.forEach(function(e){e=document.importNode(e,!0);a&&(e.style.visibility="hidden"),r.appendChild(e),s.push(e)}),c.appendChild(r),d&&d(s,l);var o=n.querySelector("link[rel=next]");o&&o.href?t.href=o.href:(t.remove(),h&&h.remove())}catch(e){throw t.remove(),e}}const i=c.nextElementSibling||c.parentElement.nextElementSibling||document.querySelector(".gh-foot"),h=document.querySelector(".gh-loadmore"),l=async function(){i.getBoundingClientRect().top<=window.innerHeight&&document.querySelector("link[rel=next]")&&await n()};const o=new IntersectionObserver(async function(e){if(!t){if(t=!0,e[0].isIntersecting)if(a)await n();else for(;i.getBoundingClientRect().top<=window.innerHeight&&document.querySelector("link[rel=next]");)await n();t=!1,document.querySelector("link[rel=next]")||o.disconnect()}});e?o.observe(i):h.addEventListener("click",n)}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).reframe=t()}(this,function(){"use strict";function t(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var r=arguments[t],s=0,d=r.length;s<d;s++,o++)i[o]=r[s];return i}return function(e,o){return void 0===o&&(o="js-reframe"),("string"==typeof e?t(document.querySelectorAll(e)):"length"in e?t(e):[e]).forEach(function(e){var t,n,i;-1!==e.className.split(" ").indexOf(o)||-1<e.style.width.indexOf("%")||(t=e.getAttribute("height")||e.offsetHeight,n=e.getAttribute("width")||e.offsetWidth,t=("string"==typeof t?parseInt(t):t)/("string"==typeof n?parseInt(n):n)*100,(n=document.createElement("div")).className=o,(i=n.style).position="relative",i.width="100%",i.paddingTop=t+"%",(i=e.style).position="absolute",i.width="100%",i.height="100%",i.left="0",i.top="0",null!=(t=e.parentNode)&&t.insertBefore(n,e),null!=(i=e.parentNode)&&i.removeChild(e),n.appendChild(e))})}}),function(e,t){"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){var n;return e&&t&&((n=(n=this._events=this._events||{})[e]=n[e]||[]).includes(t)||n.push(t)),this},t.once=function(e,t){var n;return e&&t&&(this.on(e,t),((n=this._onceEvents=this._onceEvents||{})[e]=n[e]||{})[t]=!0),this},t.off=function(e,t){e=this._events&&this._events[e];return e&&e.length&&-1!=(t=e.indexOf(t))&&e.splice(t,1),this},t.emitEvent=function(e,t){let n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];var i,o=this._onceEvents&&this._onceEvents[e];for(i of n)o&&o[i]&&(this.off(e,i),delete o[i]),i.apply(this,t)}return this},t.allOff=function(){return delete this._events,delete this._onceEvents,this},e}),function(e,t){"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){let r=t.jQuery,s=t.console;function d(e,t,n){if(!(this instanceof d))return new d(e,t,n);let i=e;var o;(i="string"==typeof e?document.querySelectorAll(e):i)?(this.elements=(o=i,Array.isArray(o)?o:"object"==typeof o&&"number"==typeof o.length?[...o]:[o]),this.options={},"function"==typeof t?n=t:Object.assign(this.options,t),n&&this.on("always",n),this.getImages(),r&&(this.jqDeferred=new r.Deferred),setTimeout(this.check.bind(this))):s.error("Bad element for imagesLoaded "+(i||e))}(d.prototype=Object.create(e.prototype)).getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const o=[1,9,11],a=(d.prototype.addElementImages=function(e){"IMG"===e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t,n,i=e["nodeType"];if(i&&o.includes(i)){for(t of e.querySelectorAll("img"))this.addImage(t);if("string"==typeof this.options.background)for(n of e.querySelectorAll(this.options.background))this.addElementBackgroundImages(n)}},/url\((['"])?(.*?)\1\)/gi);function n(e){this.img=e}function i(e,t){this.url=e,this.element=t,this.img=new Image}return d.prototype.addElementBackgroundImages=function(t){var n=getComputedStyle(t);if(n){let e=a.exec(n.backgroundImage);for(;null!==e;){var i=e&&e[2];i&&this.addBackground(i,t),e=a.exec(n.backgroundImage)}}},d.prototype.addImage=function(e){e=new n(e);this.images.push(e)},d.prototype.addBackground=function(e,t){e=new i(e,t);this.images.push(e)},d.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,this.images.length){let t=(e,t,n)=>{setTimeout(()=>{this.progress(e,t,n)})};this.images.forEach(function(e){e.once("progress",t),e.check()})}else this.complete()},d.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&s&&s.log("progress: "+n,e,t)},d.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(e=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[e](this))},(n.prototype=Object.create(e.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src)},n.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},n.prototype.confirm=function(e,t){this.isLoaded=e;e=this.img.parentNode,e="PICTURE"===e.nodeName?e:this.img;this.emitEvent("progress",[this,e,t])},n.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},n.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},n.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(i.prototype=Object.create(n.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},i.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},i.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},(d.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((r=e).fn.imagesLoaded=function(e,t){return new d(this,e,t).jqDeferred.promise(r(this))})})(),d}),pagination(isInfinite=!1),reframe(document.querySelectorAll(['.verdin-content iframe[src*="youtube.com"]','.verdin-content iframe[src*="youtube-nocookie.com"]','.verdin-content iframe[src*="player.vimeo.com"]','.verdin-content iframe[src*="kickstarter.com"][src*="video.html"]',".verdin-content object",".verdin-content embed"].join(","))),function(){var e=document.querySelector(".gh-head"),t=e.querySelector(".gh-burger"),n=document.getElementsByTagName("BODY")[0];t&&t.addEventListener("click",function(){e.classList.contains("is-head-open")?(n.classList.remove("body-is-head-open"),e.classList.remove("is-head-open")):(n.classList.add("body-is-head-open"),e.classList.add("is-head-open"))})}(),dropdown();
//# sourceMappingURL=main.min.js.map